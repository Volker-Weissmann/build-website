<figure class="highlight"><section><pre><code><span class='k'>package</span> net.cell_lang;</span>

<span class='k'>class</span> <span class='m'>Supply</span> {
  Supply();

  <span class='b'>void</span> load(<span class='m'>Reader</span> writer);
  <span class='b'>void</span> save(<span class='m'>Writer</span> reader);

  <span class='b'>void</span> execute(<span class='m'>String</span> message);

  <span class='c'>// Message handlers</span>
  <span class='b'>void</span> setAddress(<span class='b'>long</span> supplierId, <span class='m'>String</span> newAddress);
  <span class='b'>void</span> setPrice(<span class='b'>long</span> supplierId, <span class='b'>long</span> partId, <span class='b'>long</span> price);

  <span class='c'>// User-defined methods</span>
  <span class='m'>String</span> lowestPriceSuppliers();
  <span class='b'>long</span>[] lowestPriceSuppliers(<span class='b'>long</span> partId);

  <span class='c'>// All methods below are automatically generated accessors that</span>
  <span class='c'>// are generated only when the code is compiled with the <strong>-g</strong> flag</span>

  <span class='c'>// Member variable accessors</span>
  <span class='b'>long</span> nextPartId();
  <span class='b'>long</span> nextSupplierId();

  <span class='c'>// Attribute accessors: given the id of an entity they</span>
  <span class='c'>// return the value of the corresponding attribute</span>
  <span class='b'>String</span> code(<span class='b'>long</span>);
  <span class='b'>String</span> description(<span class='b'>long</span>);
  <span class='b'>String</span> name(<span class='b'>long</span>);
  <span class='b'>String</span> address(<span class='b'>long</span>);

  <span class='c'>// Return the value of an attribute of a relationship</span>
  <span class='c'>// given the ids of the corresponding entities.</span>
  <span class='b'>long</span> availability(<span class='b'>long</span>, <span class='b'>long</span>);
  <span class='b'>long</span> unitPrice(<span class='b'>long</span>, <span class='b'>long</span>);

  <span class='c'>// Check whether a given element or tuple belongs</span>
  <span class='c'>// to the corresponding mutable relation variable</span>
  <span class='b'>boolean</span> part(<span class='b'>long</span>);
  <span class='b'>boolean</span> supplier(<span class='b'>long</span>);
  <span class='b'>boolean</span> code(<span class='b'>long</span>, <span class='b'>String</span>);
  <span class='b'>boolean</span> description(<span class='b'>long</span>, <span class='b'>String</span>);
  <span class='b'>boolean</span> name(<span class='b'>long</span>, <span class='b'>String</span>);
  <span class='b'>boolean</span> address(<span class='b'>long</span>, <span class='b'>String</span>);
  <span class='b'>boolean</span> phone(<span class='b'>long</span>, <span class='b'>String</span>);
  <span class='b'>boolean</span> sells(<span class='b'>long</span>, <span class='b'>long</span>);
  <span class='b'>boolean</span> unitPrice(<span class='b'>long</span>, <span class='b'>long</span>, <span class='b'>long</span>);
  <span class='b'>boolean</span> availability(<span class='b'>long</span>, <span class='b'>long</span>, <span class='b'>long</span>);

  <span class='c'>// Return the entire content of a mutable relation variable</span>
  <span class='b'>long</span>[] part();
  <span class='b'>long</span>[] supplier();
  <span class='m'>PartId_String</span>[] code();
  <span class='m'>PartId_String</span>[] description();
  <span class='m'>SupplierId_String</span>[] name();
  <span class='m'>SupplierId_String</span>[] address();
  <span class='m'>SupplierId_String</span>[] phone();
  <span class='m'>SupplierId_PartId</span>[] sells();
  <span class='m'>SupplierId_PartId_Money</span>[] unitPrice();
  <span class='m'>SupplierId_PartId_Long</span>[] availability();
}
</code></pre></section></figure>
