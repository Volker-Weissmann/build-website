<figure class="highlight"><section><pre><code><span <span class='k'>partial</span> <span <span class='k'>class</span> <span class='m'>Person</span> {
  <span <span class='k'>public</span> <span <span class='k'>void</span> Join(<span class='m'>Gang</span> gang, <span class='m'>DateTime</span> joinedOn, <span <span class='k'>int</span> rank) {
    <span class='m'>Membership</span> membership = <span <span class='k'>new</span> <span class='m'>Membership</span>(<span <span class='k'>this</span>, gang, joinedOn, rank);
    memberships[gang.id] = membership;
    gang.memberships[id] = membership;
  }

  <span <span class='k'>public</span> <span <span class='k'>void</span> MakeFriendsWith(<span class='m'>Person</span> otherPerson, <span class='m'>DateTime</span> metOn, <span class='m'>Person</span> introducedBy) {
    <span class='m'>Friendship</span> friendship = <span <span class='k'>new</span> <span class='m'>Friendship</span>(<span <span class='k'>this</span>, otherPerson, metOn, introducedBy);
    friendships[otherPerson.id] = friendship;
    otherPerson.friendships[id] = friendship;
  }
}
</code></pre></section></figure>
