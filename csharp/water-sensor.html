<figure class="highlight"><section><pre><code><span class='k'>namespace</span> <span class='m'>Cell</span>.<span class='m'>Facades</span> {
  <span class='k'>interface</span> <span class='m'>WaterSensorState</span> {

  }

  <span class='k'>class</span> <span class='m'>Unknown</span> : <span class='m'>WaterSensorState</span> {
    <span class='k'>static</span> <span class='k'>readonly</span> <span class='m'>Unknown</span> singleton;
  }

  <span class='k'>class</span> <span class='m'>Initializing</span> : <span class='m'>WaterSensorState</span> {
    <span class='k'>static</span> <span class='k'>readonly</span> <span class='m'>Initializing</span> singleton;
  }

  <span class='k'>class</span> <span class='m'>Submerged</span> : <span class='m'>WaterSensorState</span> {
    <span class='b'>bool</span> value;
  }


  <span class='k'>class</span> <span class='m'>WaterSensor</span> {
    <span class='k'>enum</span> <span class='m'>Input</span> {<span class='u'>RAW_READING</span>};

    <span class='k'>enum</span> <span class='m'>Output</span> {<span class='u'>SENSOR_STATE</span>};

    <span class='m'>WaterSensor</span>();

    <span class='b'>void</span> SetInput(<span class='m'>Input</span> input, <span class='b'>string</span> value);
    <span class='b'>string</span> ReadOutput(<span class='m'>Output</span> output);

    <span class='b'>void</span> SetElapsedMillisecs(<span class='b'>int</span>);
    <span class='b'>void</span> SetElapsedSecs(<span class='b'>int</span>);

    <span class='b'>bool</span> Apply();
    <span class='b'>string</span> ReadState();
    <span class='b'>void</span> SetState(<span class='b'>string</span>);

    <span class='m'>Output</span>[] ChangedOutputs();

    <span class='c'>// Inputs</span>
    <span class='b'>bool</span>? RawReading;

    <span class='c'>// Outputs</span>
    <span class='m'>WaterSensorState</span> SensorState;
  }
}
</code></pre></section></figure>
