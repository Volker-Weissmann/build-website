<div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre>  <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">Switch</span> {
  <span style="color: #A0A000">public:</span>
    <span style="color: #008000; font-weight: bold">enum</span> Input {SWITCH_ON, SWITCH_OFF};

    <span style="color: #008000; font-weight: bold">enum</span> Output {IS_ON};

    Switch();
    <span style="color: #666666">~</span>Switch();

    <span style="color: #B00040">void</span> <span style="color: #0000FF">set_input</span>(Input input, <span style="color: #008000; font-weight: bold">const</span> <span style="color: #B00040">char</span> <span style="color: #666666">*</span>value);
    <span style="color: #B00040">void</span> <span style="color: #0000FF">read_output</span>(Output output, <span style="color: #B00040">char</span> <span style="color: #666666">*</span>buffer, <span style="color: #B00040">unsigned</span> <span style="color: #B00040">int</span> size);

    <span style="color: #B00040">void</span> <span style="color: #0000FF">apply</span>();
    std<span style="color: #666666">::</span>unique_ptr<span style="color: #666666">&lt;</span>cell<span style="color: #666666">::</span>Value<span style="color: #666666">&gt;</span> read_state();
    <span style="color: #B00040">void</span> <span style="color: #0000FF">set_state</span>(<span style="color: #008000; font-weight: bold">const</span> <span style="color: #B00040">char</span> <span style="color: #666666">*</span>buffer);

    <span style="color: #B00040">unsigned</span> <span style="color: #B00040">int</span> <span style="color: #0000FF">changed_outputs_count</span>();
    Output <span style="color: #0000FF">changed_output_id</span>(<span style="color: #B00040">unsigned</span> <span style="color: #B00040">int</span> idx);

    <span style="color: #B00040">void</span> <span style="color: #0000FF">set_Switch_on</span>(<span style="color: #B00040">bool</span> );
    <span style="color: #B00040">void</span> <span style="color: #0000FF">set_Switch_off</span>(<span style="color: #B00040">bool</span> );

    <span style="color: #B00040">bool</span> <span style="color: #0000FF">get_Is_on</span>();

  <span style="color: #A0A000">private:</span>
    <span style="color: #B00040">void</span> <span style="color: #666666">*</span>ptr;
  };
</pre></div>
